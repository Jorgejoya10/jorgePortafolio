import{r as s,j as e}from"./index-C6JFRcRn.js";import{u as C}from"./useAlgorithmRunner-Dl-k42yn.js";function k({algoId:h}){const{run:g}=C(),[a,f]=s.useState(3),[o,u]=s.useState(""),[n,l]=s.useState(""),[p,c]=s.useState(""),[d,m]=s.useState(!1),j=s.useMemo(()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=(a%26+26)%26;return t.split("").map((i,v)=>`${i}→${t[(v+r)%26]}`).join("  ")},[a]),x=async t=>{c("");try{const i=await g(h,t,t==="encrypt"?{plaintext:o,shift:a}:{ciphertext:o,shift:a});l(new TextDecoder().decode(i.output))}catch(r){c(r?.message??String(r)),l("")}},b=t=>{const r=Number.isFinite(t)?t:0;f((Math.round(r)%26+26)%26)};async function y(){try{const t=n||"";if(!t)return;if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(t);else{const r=document.createElement("textarea");r.value=t,r.style.position="fixed",r.style.left="-9999px",document.body.appendChild(r),r.focus(),r.select(),document.execCommand("copy"),document.body.removeChild(r)}m(!0),setTimeout(()=>m(!1),1200)}catch(t){console.error("copy failed:",t)}}function N(){return e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm text-neutral-400",children:"Desplazamiento (0–25)"}),e.jsx("input",{type:"number",min:0,max:25,value:a,onChange:t=>b(Number(t.target.value)),className:"rounded-md border border-neutral-700 p-2"}),e.jsx("input",{type:"range",min:0,max:25,value:a,onChange:t=>b(Number(t.target.value)),className:"w-full"}),e.jsx("div",{className:"text-xs text-neutral-400 break-words",children:j})]})}return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("p",{className:"text-neutral-300",children:["Cifrado por sustitución monoalfabética. Solo transforma letras A–Z (ignora acentos y deja otros caracteres tal cual)."," ",e.jsx("span",{className:"text-red-400 font-semibold",children:"Inseguro"})," hoy en día."]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:"flex flex-col gap-1 md:col-span-2",children:[e.jsx("span",{className:"text-sm text-neutral-400",children:"Texto"}),e.jsx("textarea",{rows:4,className:"w-full rounded-md border border-neutral-700 p-3",value:o,onChange:t=>u(t.currentTarget.value),spellCheck:!1,placeholder:"Escribe tu mensaje secreto aquí..."})]}),e.jsx(N,{})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x("encrypt"),className:"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-500",children:"Cifrar"}),e.jsx("button",{onClick:()=>x("decrypt"),className:"px-4 py-2 rounded-md bg-neutral-700 hover:bg-neutral-600",children:"Descifrar"}),e.jsx("button",{onClick:()=>{u(""),l(""),c("")},className:"px-4 py-2 rounded-md border border-neutral-700",children:"Limpiar"})]}),p&&e.jsx("div",{className:"rounded-md border border-red-700 bg-red-950/40 p-3 text-red-300",children:p}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm text-neutral-400 mb-1",children:"Salida"}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{type:"button",onClick:y,disabled:!n,"aria-live":"polite",className:`absolute top-2 right-2 z-10 px-3 py-1.5 rounded-md text-xs border transition
              ${n?d?"bg-green-600 text-white border-green-600":"bg-neutral-900 text-neutral-200 border-neutral-700 hover:bg-neutral-800":"opacity-40 cursor-not-allowed border-neutral-700 bg-neutral-900 text-neutral-400"}`,title:d?"¡Copiado!":"Copiar al portapapeles",children:d?"¡Copiado!":"Copiar"}),e.jsx("textarea",{rows:4,readOnly:!0,className:"w-full rounded-md border border-neutral-700 p-3 pr-24",value:n})]})]}),e.jsxs("div",{className:"rounded-xl border border-neutral-700 p-4 text-sm text-neutral-300",children:[e.jsx("b",{children:"Consejo didáctico:"})," prueba con distintos desplazamientos y observa cómo el patrón de frecuencias en español/inglés permite romperlo rápidamente."]})]})}export{k as default};
